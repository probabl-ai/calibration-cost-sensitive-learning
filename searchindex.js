Search.setIndex({"alltitles": {"Addressing the problem with a business metric": [[4, "addressing-the-problem-with-a-business-metric"]], "Calibration": [[8, null]], "Calibration-aware hyperparameter tuning": [[7, "calibration-aware-hyperparameter-tuning"]], "Choosing a classification metric": [[3, null]], "Classification metrics": [[8, null]], "Conclusion": [[4, "conclusion"]], "Cost-sensitive learning": [[8, null]], "Cost-sensitive learning to optimize business metrics": [[4, null]], "Exercise:": [[3, "exercise"], [3, "id1"], [3, "id3"]], "Hard classification metrics only depends on the value of the threshold": [[3, "hard-classification-metrics-only-depends-on-the-value-of-the-threshold"]], "Install pixi": [[8, "install-pixi"]], "Investigate baseline policies": [[4, "investigate-baseline-policies"]], "Is it true for other models?": [[7, "is-it-true-for-other-models"]], "Launching Jupyter Lab": [[8, "launching-jupyter-lab"]], "Miscalibration caused by data points reweighting": [[6, null]], "Miscalibration caused by inappropriate hyperparameters": [[7, null]], "Notebooks Launch JupyterLite": [[8, "notebooks"]], "Opening lecture notes": [[8, "opening-lecture-notes"]], "Probabilistic classification and cost-sensitive learning": [[8, null]], "Proper scoring rules are impacted by monotonic transformations": [[3, "proper-scoring-rules-are-impacted-by-monotonic-transformations"]], "Question:": [[3, "question"]], "Ranking metrics are not impacted by monotonic transformations": [[3, "ranking-metrics-are-not-impacted-by-monotonic-transformations"]], "Reading calibration curves": [[5, null]], "References": [[4, "references"]], "Running the notebooks locally": [[8, "running-the-notebooks-locally"]], "Slides": [[8, "slides"]], "Solution:": [[3, "solution"], [3, "id2"], [3, "id4"], [3, "id5"], [7, "solution"]], "Summary:": [[3, "summary"]], "Table of contents": [[8, "table-of-contents"]], "The credit card dataset": [[4, "the-credit-card-dataset"]], "Training predictive models": [[4, "training-predictive-models"]], "Tune decision threshold by business metric optimization": [[4, "tune-decision-threshold-by-business-metric-optimization"]], "Tuned logistic regression on a proper scoring rule": [[4, "tuned-logistic-regression-on-a-proper-scoring-rule"]], "Tuned logistic regression with optimal decision threshold": [[4, "tuned-logistic-regression-with-optimal-decision-threshold"]], "Variable optimal threshold": [[4, "variable-optimal-threshold"]], "What is a calibration curve?": [[2, null]]}, "docnames": ["content/datasets/README", "content/notebooks/_generate_predictions", "content/notebooks/build_calibration_curve", "content/notebooks/classification_metrics", "content/notebooks/cost_sensitive_learning", "content/notebooks/different_calibration_curves", "content/notebooks/miscalibration_reweighting", "content/notebooks/miscalibration_under_over_fit", "intro"], "envversion": {"sphinx": 62, "sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.intersphinx": 1, "sphinxcontrib.bibtex": 9}, "filenames": ["content/datasets/README.md", "content/notebooks/_generate_predictions.ipynb", "content/notebooks/build_calibration_curve.ipynb", "content/notebooks/classification_metrics.ipynb", "content/notebooks/cost_sensitive_learning.ipynb", "content/notebooks/different_calibration_curves.ipynb", "content/notebooks/miscalibration_reweighting.ipynb", "content/notebooks/miscalibration_under_over_fit.ipynb", "intro.md"], "indexentries": {}, "objects": {}, "objnames": {}, "objtypes": {}, "terms": {"": [2, 4, 5, 6, 7], "0": [1, 2, 3, 4, 5, 6, 7], "00": [4, 6], "000": 4, "001727": 4, "00603": 2, "01": [4, 6, 7], "013010": 2, "01301041": 2, "02": 4, "0232": 3, "03": 4, "031": 4, "04": 4, "040": 4, "040404040403838125": 4, "05": 4, "06": 4, "06710903": 5, "07": [4, 6], "09744258": 2, "097443": 2, "0x7f261ee9e930": 7, "0x7f840fc78170": 6, "1": [1, 2, 3, 4, 5, 6, 7], "10": [1, 2, 3, 4, 5, 6, 7], "100": [4, 7], "1000": 3, "10000": 7, "100_000": 1, "106": 2, "10_000": 7, "11": 4, "12": [4, 5, 6], "128": 4, "13": 4, "13852451266167": 7, "14": 4, "15": [4, 7], "1597": 0, "16": [4, 7], "17": 4, "18": 4, "183": 5, "19": 4, "19305440698357443": 4, "199": 5, "1_000": [4, 7], "1e": [4, 7], "1e1": 7, "1e4": 7, "1e6": 7, "2": [2, 3, 4, 5, 6, 7], "20": [4, 7], "200": 7, "2001": 4, "202": 5, "204": 2, "21": 4, "216": 4, "22": [4, 7], "229431": 2, "22943148": 2, "23": 4, "232": 5, "235": 4, "236": 4, "237": 4, "238": 4, "239": 4, "24": 4, "24886": 5, "25": [4, 7], "251": 4, "25114": 5, "26": 4, "27": 4, "2774031": 5, "28": 4, "284315": 4, "284806": 4, "284807": 4, "29": 4, "291": 4, "2d": 7, "2f": [2, 4], "3": [1, 2, 3, 4, 5, 7], "30": [4, 7], "303": 2, "31": 4, "33": 4, "3333": 3, "3492": 3, "35": 7, "36": 4, "362526": 2, "36252617": 2, "37884759": 5, "3820": 3, "4": [2, 3, 4, 7], "40": 7, "401": 2, "42": 4, "421": 4, "44": 6, "442157": 2, "44330": 6, "44355834": 5, "447": 4, "45000": 6, "4742": 3, "492": 4, "49995": 2, "49996": 2, "49997": 2, "49998": 2, "49999": 2, "4f": 3, "5": [1, 2, 3, 4, 5, 6, 7], "50": 4, "500": 4, "5000": 3, "50000": 2, "50699929": 5, "50_000": 6, "517491": 2, "51749109": 2, "52": 6, "525": 4, "53": 6, "546": 5, "580": 4, "5889": 3, "594": 5, "599": 2, "6": [3, 4, 5, 7], "60": [4, 6], "60360465": 5, "631": 5, "6389": 3, "65": 4, "6666666666666666": 3, "667": 5, "670": 6, "697": 2, "7": [3, 4, 7], "71": 6, "72": 6, "738086": 2, "73808646": 2, "745": 4, "78": 6, "796": 2, "799": 5, "8": [4, 6], "80": [2, 6], "802": 5, "821": 4, "83": 4, "85": 6, "87": 4, "895": 2, "9": [3, 4, 6], "90": 6, "92": 6, "931823": 2, "96": 6, "968531": 2, "97": 6, "98": 6, "980434": 2, "99": 6, "993": 2, "998273": 4, "A": [4, 6, 7], "As": [2, 3, 4, 5, 6, 7], "But": 6, "By": 2, "For": 7, "If": 4, "In": [1, 2, 3, 4, 5, 6, 7], "It": [2, 4, 5, 6, 7], "No": 4, "On": [1, 4, 5, 7], "Or": 3, "Such": 4, "The": [0, 2, 5, 7, 8], "Then": [4, 7], "There": [3, 4, 7], "To": [2, 4, 7, 8], "With": 7, "_": [2, 3, 4, 5, 6, 7], "__init__": 4, "__name__": 3, "__version__": [2, 5, 6, 7], "_distn_infrastructur": 7, "_generate_predict": [2, 5], "_plot": 6, "abil": [3, 5], "abl": [2, 7], "about": [3, 4], "abov": [2, 4, 5], "absolut": 4, "accept": 4, "accept_fraudul": 4, "accept_legitim": 4, "access": 4, "accord": 3, "account": 4, "accur": 4, "accuraci": [3, 6, 7], "achiev": [5, 7], "across": 7, "activ": 0, "actor": 4, "adapt": 4, "add": [4, 7], "addit": [4, 6, 7], "adopt": 2, "advoc": 6, "afford": 7, "after": 3, "against": [2, 5], "aggreg": 4, "aim": 4, "all": [0, 3, 4, 5, 7], "all_best_param_valu": 7, "allow": [2, 4, 5, 6, 7], "almost": [4, 7], "alpha": [6, 7], "alreadi": 4, "also": [2, 3, 4, 5, 7], "altern": [3, 7], "alwai": [4, 5], "always_accept_polici": 4, "always_reject_polici": 4, "ambigu": 7, "amount": 4, "amount_groupby_class": 4, "amount_test": 4, "amount_train": 4, "an": [2, 3, 4, 5, 6, 7], "analysi": [5, 7], "analyz": 5, "ani": [4, 7], "anonym": 4, "anoth": [5, 6], "apart": 4, "append": [5, 7], "append_ax": 7, "applic": [4, 7], "approach": [4, 5], "ar": [2, 4, 5, 6, 7, 8], "area": 7, "argmax": 7, "around": [1, 4], "arrai": [2, 4, 5], "artifici": 4, "asarrai": 3, "aspect": [2, 5, 6, 7], "assess": [5, 7, 8], "associ": 4, "assum": [3, 4, 5], "assumpt": 4, "astyp": 4, "auc": [2, 3, 5, 7], "autom": 4, "automat": [4, 8], "avail": [2, 4, 7, 8], "averag": [2, 4, 5], "average_precision_scor": [3, 5], "avg": 6, "avg_accept_fraud_cost": 4, "avg_predicted_prob": 2, "avg_refuse_legit_cost": 4, "avoid": 7, "ax": [2, 4, 5, 6, 7], "ax_": [2, 4, 6, 7], "ax_boundari": 7, "ax_calibr": 7, "ax_hist": 7, "axes_divid": 7, "axes_grid1": 7, "axi": [4, 7], "axvlin": 5, "b": 3, "balanc": 6, "bank": 4, "base": [2, 3, 4, 6, 7], "basi": 4, "becaus": 4, "becom": 7, "been": 4, "befor": [2, 4, 7], "behav": 4, "behavior": 5, "behaviour": [2, 5], "belong": 6, "below": [5, 7], "benefici": 4, "benefit": 4, "best": [3, 4, 7], "best_estimator_": [4, 7], "best_param_idx": 7, "best_param_valu": 7, "best_params_": 7, "best_test_scor": 7, "best_threshold_": 4, "better": 6, "between": [2, 4, 5, 7], "bin": [2, 4, 5, 7], "bin_identifi": 2, "binari": [2, 5], "black": [4, 6, 7], "blind": 5, "blue": 7, "bodi": 6, "boost": 7, "bootstrap": 7, "bootstrap_s": 7, "both": [3, 5, 6, 7], "boundari": [6, 7], "boundary_ax": 7, "boundary_figur": 7, "brand": 4, "brier": 5, "brier_score_loss": [3, 5], "build": 2, "built": 2, "bump": 7, "busi": [3, 8], "business_gain_func": 4, "business_gain_scor": 4, "business_scor": 4, "c": [4, 6, 7], "c00": 4, "c01": 4, "c10": 4, "c11": 4, "c_00": 4, "c_11": 4, "calcul": 2, "calibr": [3, 4, 6], "calibrated_estim": 4, "calibratedclassifiercv": 4, "calibration_ax": 7, "calibration_figur": 7, "calibrationdisplai": [2, 4, 5, 6, 7], "call": [4, 7], "can": [0, 2, 3, 4, 6, 7, 8], "cannot": [4, 7], "cap": 4, "capabl": 7, "captur": 7, "card": 0, "care": 4, "case": [2, 4, 5, 7], "catastroph": 4, "categor": 2, "categori": 4, "caus": 8, "caveat": 7, "cell": [1, 4, 7], "certain": 6, "chang": [3, 4, 6, 7], "characterist": 4, "charg": 4, "charl": 4, "check": [3, 4, 5, 6, 7], "checkerboard": 7, "choic": [3, 4, 7], "choos": [7, 8], "churn": 4, "class": [1, 2, 4, 5, 6, 7], "class_id": 4, "class_sep": [1, 6], "class_weight": 6, "classif": [2, 5, 6, 7], "classifi": [2, 3, 4, 6, 7, 8], "classification_report": 6, "clearli": [6, 7], "click": 8, "client": 4, "close": [5, 7], "cmap": [6, 7], "coeffici": 7, "collabor": 4, "color": [3, 5, 7], "colorbar": [6, 7], "column": [2, 4], "combin": 7, "come": 6, "command": [2, 5, 8], "commiss": 4, "commission_transaction_gain": 4, "compar": [2, 4, 5], "compare_metr": 3, "comparison": 7, "complet": 6, "complex": [4, 7], "comput": [4, 5, 7], "concat": 4, "concept": 8, "conclud": 4, "conclus": [5, 6, 7], "concret": 4, "condit": [3, 4], "confer": 4, "confid": 7, "configur": 7, "confirm": [4, 6, 7], "consequ": 3, "conserv": 6, "consid": [2, 4, 7], "constant": [4, 7], "constrain": 7, "contain": [2, 4], "contextu": 4, "contour": 6, "contourf": 7, "contrari": 5, "control": 7, "converg": 7, "coolwarm": [6, 7], "copi": 4, "core": 4, "correct": 3, "correctli": [6, 7], "correspond": [4, 5], "cost": 6, "could": [2, 4, 6, 7], "count": [4, 5], "craft": 7, "creat": [2, 4, 7], "credit": 0, "credit_card": [0, 4], "cross": [4, 5, 7], "crucial": 7, "curv": [1, 6, 7, 8], "custom": 4, "cut": 2, "cv": 7, "cwd": 1, "damag": 4, "data": [0, 2, 4, 5, 7, 8], "data_test": 4, "data_train": 4, "datafram": [2, 4, 5], "dataset": [0, 1, 3, 6, 7], "deal": 6, "decis": [5, 6, 7, 8], "decisin": 3, "decisionboundarydisplai": [6, 7], "declar": 4, "decreas": [4, 7], "def": [3, 4, 5, 7], "default": [2, 3, 4, 5, 6, 7], "default_rng": 7, "defin": [4, 7], "degrad": 3, "delai": 4, "densiti": 4, "depend": [4, 7], "depict": 7, "deriv": [3, 5, 8], "describ": 4, "descript": 4, "design": 4, "detail": [0, 2, 6], "detect": 4, "determinist": 7, "diagon": [1, 4, 5], "did": 4, "differ": [3, 4, 5, 6, 7], "difficult": 4, "dimension": 7, "directli": 4, "directori": 8, "discard": [6, 7], "discov": 4, "discrimin": [2, 5], "discuss": 2, "disk": 7, "disp": [2, 4, 6, 7], "dispatch": 4, "displac": 6, "displai": [5, 7], "dissatisfact": 4, "distinct": 7, "distribut": 4, "dive": 2, "do": [4, 7], "document": [1, 4, 7], "doe": [2, 3, 4, 6, 7], "don": 5, "done": 4, "draw": 7, "drop": 4, "dtype": 4, "due": 7, "dummi": 4, "dummyclassifi": 4, "dure": 7, "e": [2, 4, 7], "each": [2, 4, 5, 7], "earlier": 2, "easi": 4, "easili": 6, "edgecolor": [4, 6, 7], "educ": 7, "effect": [6, 7], "either": 5, "elaps": 4, "elkan": 4, "elkan_optimal_threshold": 4, "els": [4, 7], "empir": [3, 5], "enable_metadata_rout": 4, "encount": 6, "end": 4, "enforc": 7, "engin": 4, "enough": [4, 7], "ensembl": 7, "ensur": [2, 4, 7], "entail": 4, "entri": 4, "enumer": 7, "environ": [1, 4, 7, 8], "equal": [1, 2, 5, 6, 7], "equival": [2, 5, 6], "erlbaum": 4, "error": [3, 7], "estim": [2, 4, 5, 6, 7], "evalu": [2, 3, 4, 7], "even": 7, "ever": 5, "everywher": 7, "exactli": 5, "exampl": [2, 3, 4], "execut": [2, 5], "exercis": [2, 7], "exhibit": 7, "exist_ok": 1, "expand": 7, "expans": 7, "expect": [3, 4, 7], "expens": 7, "experi": [3, 4, 6, 7], "expit": [1, 3], "explicitli": [4, 7], "explor": [4, 5, 7], "express": [4, 7], "extern": 4, "extra": 4, "extract": 4, "extrapol": 1, "f": [2, 3, 4, 6, 7], "f1": [3, 6], "f1_score": 3, "f401": [4, 5], "face": 2, "fact": [4, 5, 7], "factori": 4, "fals": 7, "false_negative_c01": 4, "false_positive_c10": 4, "far": 7, "featur": [4, 6, 7], "fetch": [0, 4], "few": [2, 4], "fig": [5, 6, 7], "fig_param": 7, "figsiz": [4, 5, 6, 7], "file": [2, 4, 5, 8], "fill_valu": 1, "final": [5, 7], "find": 7, "first": [2, 4, 5, 7], "fit": [1, 4, 5, 6, 7], "fittedtunedthresholdclassifiercv": 4, "fix": [4, 7], "fixed_elkan_model": 4, "fixedthresholdclassifi": [4, 6], "flexibl": 7, "float64": [3, 4, 7], "focu": [2, 5], "folder": [2, 4, 5], "follow": [2, 4, 7, 8], "form": 7, "found": [0, 4], "foundat": 4, "fraction": [2, 5], "fraction_positive_sampl": 2, "frame": 4, "fraud": 4, "fraudul": 4, "from": [0, 1, 2, 3, 4, 5, 6, 7], "from_estim": [4, 6, 7], "from_predict": [2, 5], "full": 7, "full_metric_nam": 7, "fulli": 7, "func": 4, "function": [2, 3, 4, 7], "fundament": 7, "further": [6, 7], "futur": 4, "gain": 4, "gather": 5, "gener": [2, 3, 5, 6, 7], "get": [2, 4, 7], "get_ipython": [2, 5], "get_ylabel": 7, "github": [1, 4, 7], "given": [2, 4, 6], "global": 4, "go": [2, 6], "gradient": 7, "grai": [3, 5], "graphic": 2, "grid": [4, 7], "gridsearchcv": [4, 7], "gridsearchcvifittedgridsearchcv": 4, "group": [2, 3, 5], "groupbi": [2, 4], "gt": 7, "guarante": 3, "ha": [2, 4], "hand": [4, 7], "handi": 4, "happen": 2, "hard": [6, 7], "harmless": 4, "have": [2, 4, 5, 6, 7], "held": 4, "help": [2, 4, 7], "here": [4, 5, 6, 7], "high": 7, "higher": [4, 5, 7], "highli": 4, "highlight": 5, "hist": [4, 7], "histgradientboostingclassifi": 7, "hline": 3, "hold": [3, 7], "how": [2, 4, 8], "howev": [2, 4, 6, 7], "html": [1, 4, 7], "http": 0, "hyperparamet": [4, 8], "hyperparemet": 7, "i": [1, 3, 4, 5, 6, 8], "id": 0, "ideal": [3, 4, 7], "identifi": [2, 3, 7], "idx": 7, "illustr": [3, 7], "imbalanc": [4, 6], "impact": [6, 7], "implement": 2, "implic": 2, "import": [1, 2, 3, 4, 5, 6, 7], "improp": 5, "improv": [3, 4, 6, 7], "inappropri": 8, "includ": 7, "increas": [3, 4, 6, 7], "inde": 7, "independ": [3, 7], "influenc": 7, "info": 4, "inform": [3, 4, 7], "input": 4, "insight": 5, "inspect": [6, 7], "instanc": [4, 7], "instead": [2, 4, 6], "int": 4, "int64": 4, "intellig": 4, "interact": 7, "interaction_onli": 7, "interest": [4, 6], "intern": 4, "interp1d": 1, "interpol": 1, "interpret": 2, "introduc": 8, "introductori": 8, "intuit": [2, 7], "investig": 7, "involv": 4, "ipython": [2, 5], "irreduc": 3, "irrespect": 4, "is_dir": 7, "is_fil": 7, "ish": 7, "isol": 7, "isoton": 4, "item": 5, "iter": 7, "its": [4, 7], "itself": 2, "joint": 4, "jointli": 3, "jupyt": [1, 4, 7], "jupyterlit": 4, "just": 5, "k": 2, "keep": 7, "kernel": 4, "knot": 7, "know": 4, "known": [5, 7], "label": [2, 5, 6, 7], "labelbottom": 7, "labelleft": 7, "larg": [4, 7], "larger": [4, 7], "last": 5, "lastli": 7, "later": [2, 4, 5, 7], "lawrenc": 4, "lead": [2, 5, 7], "leaf": 7, "learn": [2, 5, 6, 7], "learning_r": 7, "least": 7, "left": [3, 4, 5, 6, 7], "legend": [2, 5, 6], "legitim": 4, "less": 7, "let": [2, 4, 5, 6, 7], "librari": 2, "licens": 0, "like": 6, "likelihood": 7, "linear": 7, "linear_model": [1, 4, 6, 7], "linestyl": [3, 5, 6], "linewidth": 7, "link": 7, "linspac": [2, 3, 4], "list": 7, "literatur": 6, "littl": 4, "load": [1, 2, 4, 5, 7], "loc": [5, 6, 7], "local": 4, "locat": [2, 7], "log": [4, 5, 7], "log_loss": [3, 5], "logic": 7, "logical_xor": 7, "logist": [6, 7], "logistic_regress": [4, 6], "logistic_regression_balanc": 6, "logistic_regrssion_with_threshold": 6, "logisticregress": [1, 4, 6, 7], "logisticregression__c": [4, 7], "logisticregressionifittedlogisticregress": [1, 7], "logisticregressionlogisticregress": [4, 7], "logspac": [4, 7], "loguniform": 7, "look": [2, 4, 6, 7], "lose": 4, "loss": [3, 4, 5, 7], "low": [4, 6, 7], "lower": [4, 5, 6], "lr": 6, "lt": 7, "ltd": 4, "luxurari": 7, "machin": [4, 7], "macro": 6, "made": 4, "magic": [2, 5], "major": [4, 6], "make": [2, 4, 5, 6, 7], "make_axes_locat": 7, "make_classif": [1, 6], "make_pipelin": [4, 7], "make_scor": 4, "mani": 4, "map": 3, "margin": 7, "matplotlib": [2, 3, 4, 5, 6, 7], "matrix": 4, "max": [1, 4], "max_it": 7, "max_leaf_nod": 7, "maxim": 4, "maximum": 7, "mb": 4, "me": [3, 7], "mean": [2, 4, 5, 6, 7], "mean_test_scor": 7, "meaning": 3, "measur": 3, "memori": 4, "mention": 4, "met": 4, "meta": 4, "metadata": [0, 4], "method": 4, "methodologi": [6, 7], "metric": [2, 5, 6, 7], "metric_func": 3, "metric_nam": [3, 7], "mi": [5, 7], "might": [4, 6], "min": [1, 4, 7], "minim": [4, 7], "minor": [4, 6], "mirror": 1, "miscalibr": 8, "misclassifi": 6, "mistak": 4, "mkdir": [1, 7], "ml": 7, "model": [1, 2, 3, 5, 6, 8], "model_nam": 5, "model_param": 7, "model_predict": 5, "model_scor": 5, "model_select": [1, 4, 6, 7], "modifi": 2, "monei": 4, "monotonic_funct": 3, "more": [4, 6, 7], "move": 6, "mpl_toolkit": 7, "much": [2, 4], "multipl": 7, "n": 7, "n_bin": [2, 4, 5, 7], "n_clusters_per_class": 6, "n_featur": 6, "n_iter": 7, "n_job": [4, 7], "n_knot": 7, "n_redund": 6, "n_sampl": [1, 6, 7], "n_split": 7, "name": [4, 5, 6, 7], "natur": 7, "nbsp": [1, 4, 7], "nbviewer": [1, 4, 7], "ncol": [4, 6, 7], "necessari": 8, "necessarili": 7, "need": [4, 5, 7, 8], "neg": [4, 5, 7], "neg_log_loss": [3, 4, 7], "neq": 3, "never": 7, "next": 6, "node": 7, "nois": 7, "noisi": [2, 7], "non": [3, 4, 7], "non_threshold_preserving_transform": 3, "none": 7, "noqa": [4, 5], "norm": 7, "normal": [4, 7], "note": 4, "notebook": [1, 3, 4, 5, 7], "now": [4, 5, 7], "np": [1, 2, 3, 4, 5, 7], "npy": [1, 2, 5], "npz": 7, "nrow": [6, 7], "null": 4, "number": [2, 4, 7], "numpi": [1, 2, 3, 4, 5, 7], "object": [2, 3, 7], "observ": [2, 4, 5, 7], "obtain": [4, 7], "obviou": 7, "off": [4, 5, 7], "offer": 7, "offici": 8, "onc": 4, "one": [2, 4, 6, 7], "onli": [2, 4, 5, 7], "openml": [0, 4], "oper": [4, 5], "opposit": 5, "optim": [7, 8], "optimal_threshold": 4, "option": 4, "oracl": 4, "orang": 7, "org": [0, 1, 4, 7], "origin": 3, "other": [3, 4, 5, 6], "our": [2, 3, 4, 5, 6, 7], "out": [4, 7], "outcom": 4, "output": [2, 5], "over": [4, 5, 7], "overconfid": [5, 7], "overfit": 7, "overlap": 5, "own": 2, "p": 1, "packag": 8, "pad": 7, "page": [1, 4, 7], "panda": [2, 4, 5], "paper": 4, "param": 7, "param_config": 7, "param_distribut": 7, "param_grid": [4, 7], "param_nam": 7, "param_rang": 7, "paramet": [2, 6, 7], "parametergrid": 7, "parent": 7, "parent_fold": 7, "parquet": [0, 4], "part": 5, "partial": [3, 4], "particular": [3, 4], "pass": [4, 7], "path": [1, 7], "pathlib": [1, 7], "pattern": 4, "pca": 4, "pd": [2, 4, 5], "pedagog": 2, "penal": 7, "per": 4, "perfect": [4, 7], "perfectli": [2, 4, 5], "perform": [4, 7], "pipelin": [4, 7], "pipelineifittedpipelin": 7, "pipelinepipelin": [4, 7], "pleas": [1, 4, 7], "plot": [2, 3, 4, 5, 7], "plot_calibration_curv": 5, "plot_method": [6, 7], "plt": [2, 3, 4, 5, 6, 7], "point": [5, 7, 8], "polici": 8, "polynomi": 7, "polynomialfeatur": 7, "polynomialfeaturespolynomialfeatur": 7, "posit": [2, 4, 5], "possibl": [2, 4], "post": 6, "potenti": 6, "power": [2, 3, 5], "practic": 7, "pre": 7, "precis": [3, 5, 6], "precomput": 7, "predict": [1, 2, 3, 5, 6, 7], "predict_proba": [1, 4, 6, 7], "prepar": 4, "preprocess": [4, 7], "present": [2, 4, 7], "preserv": 3, "previou": [1, 2, 4, 5, 6, 7], "previous": 4, "print": [2, 3, 4, 6], "prior": 4, "priorit": 7, "proba": 4, "probabilist": [3, 4, 5, 7], "probabilit": [3, 7], "probabilti": 7, "probabl": [2, 3, 4, 5, 6, 7], "problem": [2, 5, 7], "procedur": 7, "process": [2, 6, 7], "profit": 4, "prone": 7, "pronounc": 7, "proper": 7, "properti": 3, "proport": [2, 4], "propos": 4, "provid": [2, 5, 6], "pursu": 7, "push": 7, "py": [2, 5], "pyarrow": 4, "pyodid": 4, "pyplot": [2, 3, 4, 5, 6, 7], "python": [2, 5, 8], "python_fil": [2, 5, 8], "qualiti": [7, 8], "quantil": [2, 4, 5, 6, 7], "quickli": 6, "quit": 4, "random": [4, 7], "random_st": [1, 4, 6, 7], "randomizedsearchcv": 7, "randomizedsearchcvifittedrandomizedsearchcv": 7, "rang": 7, "rangeindex": 4, "rank": [5, 6, 7], "rate": 7, "ratio": 4, "ravel": [6, 7], "raw_y_pr": 1, "reachabl": 4, "read": 8, "read_parquet": 4, "real": [4, 7], "realli": [4, 7], "reason": [3, 7], "recal": [3, 4, 6], "recalibr": 4, "receiv": [4, 5], "recommend": [3, 7], "refer": 8, "refin": 7, "reflect": 3, "refrain": 7, "refus": 4, "refuse_fraudul": 4, "refuse_legitim": 4, "regard": 0, "region": 7, "regress": [6, 7], "regular": 7, "reject": 4, "relat": [4, 6], "relationship": 7, "reli": [4, 5, 7], "reliabl": 5, "render": [1, 4, 7], "repeat": [5, 6], "replac": 7, "report": 6, "repres": [2, 4, 5, 7], "represent": [1, 2, 4, 7], "reput": 4, "request": 4, "requir": 4, "rerun": [1, 4, 7], "resampl": [5, 6, 7], "research": 4, "resolut": [3, 5], "respect": 4, "response_method": [4, 6, 7], "result": [3, 4, 5, 7], "results_file_path": 7, "return": [2, 3, 4, 7], "return_count": 5, "reus": 7, "reweight": [1, 8], "right": [5, 8], "rng": 7, "robust": 7, "roc": [2, 3, 5, 6, 7], "roc_auc": 7, "roc_auc_scor": [2, 3, 5], "roc_curv": 6, "roc_displai": 5, "roccurvedisplai": [5, 6], "round": 5, "rout": 4, "row": 2, "rule": 7, "run": [0, 2, 5, 7], "run_line_mag": [2, 5], "rv_continuous_frozen": 7, "same": [2, 3, 4, 5, 6, 7], "sampl": [2, 4, 6, 7], "save": 1, "savez": 7, "saw": 7, "scale": 7, "scatter": [6, 7], "scientist": [4, 6], "scikit": [2, 4, 5, 6, 7], "scipi": [1, 3, 7], "score": [2, 5, 6, 7], "scorer": 4, "scratch": 2, "script": [2, 5], "search": [0, 4], "second": 4, "section": [4, 6, 7], "see": [3, 4, 6, 7], "seed": 7, "seem": 4, "select": [7, 8], "selected_fold_idx": 7, "self": 4, "sensit": [3, 5], "separ": [4, 7], "serv": 4, "set": [2, 4, 5, 6, 7], "set_config": 4, "set_index": 5, "set_param": 7, "set_score_request": 4, "set_tick_param": 7, "sever": [2, 4, 5], "shape": 5, "sharei": [4, 6, 7], "sharex": [4, 6, 7], "short": 6, "should": [3, 4, 6, 7], "show": [1, 2, 4, 6, 7], "shufflesplit": 7, "sigmoid": 1, "signific": 7, "similar": [4, 5, 7], "similarli": [4, 6], "simpl": [3, 7], "simplifi": 2, "simplist": 7, "simul": 7, "sinc": [4, 6, 7], "singl": 7, "size": 7, "sklearn": [1, 2, 3, 4, 5, 6, 7], "slightli": 4, "small": 7, "smaller": 7, "so": [2, 4, 6, 7], "soft": [3, 7], "some": [2, 4, 6, 7], "someth": 3, "sophist": 4, "sort": 0, "space": 7, "special": [1, 3, 4], "specif": [2, 3, 4, 7], "specifi": [7, 8], "spline": 7, "splinetransform": 7, "splinetransformer__n_knot": 7, "splinetransformersplinetransform": 7, "spot": 7, "stabil": 7, "stabl": 7, "stage": 4, "stakehold": 4, "standardscal": 4, "standardscalerstandardscal": 4, "start": [2, 4, 7], "stat": 7, "statist": [4, 6], "statu": 0, "step": [2, 4, 7], "still": [3, 7], "store": [0, 2, 5], "strategi": [2, 4, 5, 6, 7], "stratifi": [4, 6], "strictli": 3, "subplot": [2, 4, 5, 6, 7], "subregion": 7, "sum": 4, "support": [4, 6], "suptitl": 7, "sure": [2, 4, 5, 6, 7], "surface_": [6, 7], "surpris": 6, "sweet": 7, "synthet": 6, "system": 4, "t": [3, 5, 6, 7], "tab": 7, "take": 4, "taken": 4, "target": [4, 6, 7], "target_nam": 4, "target_test": 4, "target_train": 4, "task": [5, 7], "tast": 6, "tell": 2, "tend": [4, 6], "term": [3, 4, 7], "test": [4, 5, 7], "test_scor": 7, "test_scores_metr": 7, "test_siz": [1, 4, 6, 7], "than": [4, 5, 6, 7], "thei": [3, 5, 6], "them": 4, "theoret": 4, "therefor": [2, 4, 5, 6, 7], "thi": [1, 2, 3, 4, 5, 6, 7, 8], "those": [3, 4, 5, 7], "three": 7, "threshold": [5, 6, 7], "threshold_preserving_transform": 3, "through": [2, 4], "thu": [4, 7], "time": [1, 4, 7], "titl": [2, 4, 5, 6, 7], "to_numpi": 4, "todo": [3, 4, 7], "togeth": 7, "too": [5, 6, 7], "tool": 7, "top": 7, "topic": 6, "total": 4, "toward": 4, "trade": 7, "train": [1, 5, 6, 7], "train_siz": 7, "train_test_split": [1, 4, 6], "transact": 4, "transform": [4, 6, 7], "transformation_func": 3, "translat": 7, "treatment": 4, "tree": 7, "trigger": 4, "trivial": [3, 4, 6], "true": [1, 2, 4, 5, 6], "true_negative_c00": 4, "true_positive_c11": 4, "trust": [1, 4, 7], "try": [1, 4, 7], "tune": [3, 6], "tuned_model": [4, 7], "tunedthresholdclassifiercv": 4, "tunedthresholdclassifiercvifittedtunedthresholdclassifiercv": 4, "tunedthresholdclassifiercvinot": 4, "tutori": [4, 8], "tweak": 3, "twice": 4, "two": [2, 4, 5, 6, 7], "type": 0, "typic": [5, 7], "u": [2, 3, 4], "unabl": [1, 4, 7], "unbalanc": 6, "uncertain": 7, "unchang": 3, "undefit": 7, "under": [3, 7], "underconfid": [5, 7], "underfit": 7, "underli": [2, 4, 5], "understand": [2, 5], "unhappi": 6, "uniform": [2, 7], "uniqu": 5, "unique_class_label": 5, "unnecessari": 4, "unobserv": 7, "upper": [5, 6], "url": [0, 4], "us": [2, 3, 4, 5, 6, 7], "usag": 4, "user": 8, "usual": 6, "util": [2, 4], "v": 4, "v1": 4, "v10": 4, "v11": 4, "v12": 4, "v13": 4, "v14": 4, "v15": 4, "v16": 4, "v17": 4, "v18": 4, "v19": 4, "v2": 4, "v20": 4, "v21": 4, "v22": 4, "v23": 4, "v24": 4, "v25": 4, "v26": 4, "v27": 4, "v28": 4, "v3": 4, "v4": 4, "v5": 4, "v6": 4, "v7": 4, "v8": 4, "v9": 4, "valid": [4, 7], "validation_curv": 7, "validation_curve_": 7, "valu": [4, 5, 7], "value_count": 4, "vari": [4, 7], "variabl": 7, "variable_threshold": 4, "variablethresholdclassifi": 4, "variou": 5, "vast": 4, "veri": [3, 6], "vertic": 7, "via": 7, "visual": 7, "vline": [3, 7], "vmax": 7, "vmin": 7, "vol": 4, "w": 1, "wa": [0, 4], "wai": [3, 6, 7], "want": [5, 6, 7], "we": [2, 3, 4, 5, 6, 7], "websit": 8, "weight": [5, 6], "well": [2, 4, 5, 7], "what": [5, 6, 7, 8], "whatev": 7, "when": [4, 5, 6, 7], "where": [2, 7], "whether": [4, 7], "which": [3, 4, 5], "while": [3, 4, 7], "wider": 7, "win": 4, "without": [2, 5, 7], "world": 4, "worth": [4, 7], "would": [3, 4, 6, 7], "write": [3, 4, 7], "wrongli": 6, "x": [1, 3, 4, 6, 7], "x27": [4, 7], "x_test": [1, 6, 7], "x_train": [1, 6, 7], "xaxi": 7, "xlabel": [2, 4, 6, 7], "xlim": [2, 4, 5, 7], "xor": 7, "xor_gener": 7, "xscale": [4, 7], "y": [1, 3, 4, 6, 7], "y_observ": 3, "y_pred": [1, 4], "y_predicted_prob": 3, "y_prob": 2, "y_prob_1": [1, 5], "y_prob_2": [1, 2, 5], "y_prob_3": [1, 5], "y_prob_4": [1, 5], "y_proba": 5, "y_proba_1": 5, "y_test": [1, 6, 7], "y_train": [1, 6, 7], "y_true": [1, 2, 4, 5], "yaxi": 7, "year": 4, "yield": 3, "ylabel": [2, 4, 6, 7], "ylim": [2, 4, 5, 7], "ymax": 7, "ymin": 7, "you": [2, 4, 7, 8], "your": 2, "yscale": 4, "zip": [6, 7], "zorder": 7}, "titles": ["&lt;no title&gt;", "&lt;no title&gt;", "What is a calibration curve?", "Choosing a classification metric", "Cost-sensitive learning to optimize business metrics", "Reading calibration curves", "Miscalibration caused by data points reweighting", "Miscalibration caused by inappropriate hyperparameters", "Probabilistic classification and cost-sensitive learning"], "titleterms": {"The": 4, "address": 4, "ar": 3, "awar": 7, "baselin": 4, "busi": 4, "calibr": [2, 5, 7, 8], "card": 4, "caus": [6, 7], "choos": 3, "classif": [3, 8], "conclus": 4, "content": 8, "cost": [4, 8], "credit": 4, "curv": [2, 5], "data": 6, "dataset": 4, "decis": 4, "depend": 3, "exercis": 3, "hard": 3, "hyperparamet": 7, "i": [2, 7], "impact": 3, "inappropri": 7, "instal": 8, "investig": 4, "jupyt": 8, "jupyterlit": 8, "lab": 8, "launch": 8, "learn": [4, 8], "lectur": 8, "local": 8, "logist": 4, "metric": [3, 4, 8], "miscalibr": [6, 7], "model": [4, 7], "monoton": 3, "note": 8, "notebook": 8, "onli": 3, "open": 8, "optim": 4, "other": 7, "pixi": 8, "point": 6, "polici": 4, "predict": 4, "probabilist": 8, "problem": 4, "proper": [3, 4], "question": 3, "rank": 3, "read": 5, "refer": 4, "regress": 4, "reweight": 6, "rule": [3, 4], "run": 8, "score": [3, 4], "sensit": [4, 8], "slide": 8, "solut": [3, 7], "summari": 3, "tabl": 8, "threshold": [3, 4], "train": 4, "transform": 3, "true": 7, "tune": [4, 7], "valu": 3, "variabl": 4, "what": 2}})